# Style Guide: PinLite Project

Этот документ является основным руководством для обзора кода (Code Review) ИИ-помощником.

## 1. Общие принципы
- **Clean Architecture:** Код должен быть разделен на слои (API, Service, Repository, Models).
- **Security First:** Любые эндпоинты, кроме /feed и /login, должны требовать авторизацию.

## 2. Backend (Python/FastAPI)
- **Типизация:** Мы используем строгую типизацию Mypy. Если в новом коде пропущены аннотации типов в функциях — это ошибка.
- **FastAPI:** Использовать паттерн Dependency Injection через `Depends()` для работы с БД и Auth.
- **Логирование:** Использовать только `loguru`. Стандартный `print()` запрещен.
- **Асинхронность:** Весь доступ к БД и файловой системе должен быть асинхронным (async/await).

## 3. Frontend (Vanilla JS)
- **Простота:** Мы не используем фреймворки (React/Vue). Код должен быть на чистом ES6 модулях.
- **Форматирование:** Весь код должен соответствовать правилам Prettier.
- **Безопасность:** Токены не должны логироваться в консоль.

## 4. Docker & Infrastructure
- **Non-root:** Контейнеры должны запускаться от `appuser`, а не от root.
- **Healthchecks:** Все новые сервисы должны иметь инструкцию HEALTHCHECK.