[üè† Home](../../../../index.md) > [Backend](../../../index.md) > [Architecture](../../index.md) > [Domains](../index.md)

# üñºÔ∏è –î–æ–º–µ–Ω: Media (Images & Storage)

–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ç–æ, "–ß–¢–û" –º—ã —Ö—Ä–∞–Ω–∏–º. –≠—Ç–æ —è–¥—Ä–æ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

## üìö Specifications
*   **[üíæ Storage & Validation (CAS)](./storage_spec.md)** ‚Äî –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞
*   **Contracts (`contracts/`)**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (Protocol).
*   **Services (`services/`)**: –ß–∏—Å—Ç–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (FileStorage, ImageProcessing).
*   **Schemas (`schemas/`)**: Pydantic –º–æ–¥–µ–ª–∏.
*   **API (`api/`)**: FastAPI —Ä–æ—É—Ç–µ—Ä—ã.

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (DB Models)
*–ú–æ–¥–µ–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `backend/database/models/media.py`*
*   **Image** (`id`, `user_id`, `filename`, `file_path`, `size`, `content_type`, `created_at`).

## –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (Services)
*   **FileStorageService:**
    *   –§–∏–∑–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–π—Ç–æ–≤ –Ω–∞ –¥–∏—Å–∫ (–≤ `data/uploads`).
    *   –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (UUID), —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –∫–æ–ª–ª–∏–∑–∏–π.
    *   –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å –¥–∏—Å–∫–∞.
*   **ImageProcessingService:**
    *   –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ (–º–∞–≥–∏—á–µ—Å–∫–∏–µ –±–∞–π—Ç—ã, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ).
    *   –§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞: –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–Ω–∏–∞—Ç—é—Ä (Thumbnail) —á–µ—Ä–µ–∑ Pillow.
*   **MediaService (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä):**
    *   –í—ã–∑—ã–≤–∞–µ—Ç `FileStorage` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
    *   –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ –ë–î.
    *   –¢—Ä–∏–≥–≥–µ—Ä–∏—Ç —Ñ–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –¥–ª—è `ImageProcessing`.

## API –†—É—á–∫–∏ (Routes)
*   `POST /media/upload` (Multipart form-data)
*   `GET /media/feed` (–°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–∏–Ω–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
*   `DELETE /media/{image_id}` (–£–¥–∞–ª–µ–Ω–∏–µ, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü)

---
[üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é](../../../../index.md)
