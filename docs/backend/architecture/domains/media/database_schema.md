[üè† Home](../../../../index.md) > [Backend](../../../index.md) > [Architecture](../../index.md) > [Domains](../index.md) > [Media](./index.md)

# üóÑÔ∏è Database Schema (Media)

–°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (CAS) –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ.

## –¢–∞–±–ª–∏—Ü–∞ `files` (Physical Storage)
–†–µ–∞–ª–∏–∑—É–µ—Ç **CAS (Content Addressable Storage)**. –•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö –Ω–∞ –¥–∏—Å–∫–µ. –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **hash** | `Char(64)` (PK) | **SHA-256** —Ö–µ—à —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞. –Ø–≤–ª—è–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º. |
| **size_bytes** | `Int` | –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö. |
| **mime_type** | `String` | MIME-—Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `image/png`). |
| **path** | `String` | –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è (—à–∞—Ä–¥–∏–Ω–≥). –í —ç—Ç–æ–π –ø–∞–ø–∫–µ –ª–µ–∂–∞—Ç –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª, –∏ –º–∏–Ω–∏–∞—Ç—é—Ä–∞. |
| **ref_count** | `Int` | –°—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ (—Å–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç–∏–Ω–æ–∫ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ —ç—Ç–æ—Ç —Ñ–∞–π–ª). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è Garbage Collection. Default: 0. |
| **created_at** | `DateTime` | –î–∞—Ç–∞ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –≤ —Å–∏—Å—Ç–µ–º—É. |

## –¢–∞–±–ª–∏—Ü–∞ `images` (User Assets)
–°–≤—è–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–º–µ—Ç—å "—Å–≤–æ–∏" –∫–æ–ø–∏–∏ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Ñ–∞–π–ª–∞ (–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ).

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **id** | `UUID` (PK) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ URL). |
| **user_id** | `UUID` (FK) | –í–ª–∞–¥–µ–ª–µ—Ü –∫–∞—Ä—Ç–∏–Ω–∫–∏. –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–∞–±–ª–∏—Ü—É `users`. `ON DELETE CASCADE`. |
| **file_hash** | `Char(64)` (FK) | –°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª (`files.hash`). `ON DELETE RESTRICT` (–Ω–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª, –ø–æ–∫–∞ –Ω–∞ –Ω–µ–≥–æ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∏). |
| **filename** | `String` | –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–∫–æ—Ç.png"). |
| **created_at** | `DateTime` | –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ –∞–ª—å–±–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. |

---
[üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é](../../../../index.md)
