[üè† Home](../../../../index.md) > [Backend](../../../index.md) > [Architecture](../../index.md) > [Domains](../index.md) > [Users](./index.md)

# üìú Contracts (Repositories)

–í –ø–∞–ø–∫–µ –¥–æ–º–µ–Ω–∞ (`contracts`) –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã (`Protocol`), –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (SQLAlchemy) —Å–∫—Ä—ã—Ç–∞ –∑–∞ —ç—Ç–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

## `IUserRepository`
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

*   **`create(user_data: dict) -> User`**
    *   –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–±–µ–∑ —Ñ–∏–∫—Å–∞—Ü–∏–∏).
    *   –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
*   **`get_by_email(email: str) -> Optional[User]`**
    *   –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email.
    *   –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞ –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ.
*   **`get_by_id(user_id: UUID) -> Optional[User]`**
    *   –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID (–¥–ª—è `/me`).
*   **`commit() -> None`**
    *   –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.

## `ITokenRepository`
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

*   **`create(user_id: UUID, token: str, expires_at: datetime)`**
    *   –ó–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–π refresh-—Ç–æ–∫–µ–Ω –≤ –ë–î (–±–µ–∑ —Ñ–∏–∫—Å–∞—Ü–∏–∏).
*   **`get_by_token(token: str) -> Optional[RefreshToken]`**
    *   –ù–∞–π—Ç–∏ —Ç–æ–∫–µ–Ω (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å).
*   **`delete(token: str)`**
    *   –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω (–ª–æ–≥–∞—É—Ç / —Ä–æ—Ç–∞—Ü–∏—è).
*   **`delete_by_user(user_id: UUID)`**
    *   –†–∞–∑–ª–æ–≥–∏–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—É–¥–∞–ª–∏—Ç—å –≤—Å–µ –µ–≥–æ —Ç–æ–∫–µ–Ω—ã).
*   **`commit() -> None`**
    *   –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.

---
[üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é](../../../../index.md)
