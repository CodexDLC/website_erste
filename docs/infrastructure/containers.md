[üè† Home](../index.md) > [Infrastructure](./index.md)

# üì¶ Docker Containers

–ü—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `docker-compose`. –ù–∏–∂–µ –æ–ø–∏—Å–∞–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.

## 1. Backend (`backend`)
–û—Å–Ω–æ–≤–Ω–æ–π API —Å–µ—Ä–≤–∏—Å –Ω–∞ FastAPI.

### –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
*   **Image:** `python:3.12-slim` (Debian-based).
*   **Port:** `8000` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π), –Ω–∞—Ä—É–∂—É –Ω–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è (–¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ Nginx).
*   **Volumes:**
    *   `./data/uploads:/app/data/uploads` ‚Äî –•—Ä–∞–Ω–∏–ª–∏—â–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.
    *   `./data/logs:/app/data/logs` ‚Äî –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–±–æ—Ä–∫–∏ (Dockerfile)
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **Multi-stage build** –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞ –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

**Stage 1: Builder**
*   Base: `python:3.12-slim`
*   –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Å–±–æ—Ä–∫–∏ (–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã, –∑–∞–≥–æ–ª–æ–≤–∫–∏).
*   –°–æ–∑–¥–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (`/app/.venv`) –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç—É–¥–∞ Python-–ø–∞–∫–µ—Ç—ã (`pip install`).

**Stage 2: Runtime (Final)**
*   Base: `python:3.12-slim` (—á–∏—Å—Ç—ã–π).
*   –°–æ–∑–¥–∞–µ—Ç –Ω–µ-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`appuser`) –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
*   –ö–æ–ø–∏—Ä—É–µ—Ç **—Ç–æ–ª—å–∫–æ** –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏–∑ Builder-–∞ (`COPY --from=builder ...`).
*   –ö–æ–ø–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
*   –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç –∏–º–µ–Ω–∏ `appuser`.

## 2. Nginx (`nginx`)
–í–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ Reverse Proxy.
*   **Image:** `nginx:alpine`
*   **Port:** `80` (HTTP) -> –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ö–æ—Å—Ç.
*   **Config:** `./nginx/nginx.conf`
*   **Depends On:** `backend`

## üîÆ Future Services
*   **Redis:** –î–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—á–µ—Ä–µ–¥–µ–π –∑–∞–¥–∞—á (Celery).
*   **Prometheus/Grafana:** –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

---
[‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ Infrastructure](./index.md)
