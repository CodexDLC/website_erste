[üè† Home](../../index.md) > [Management](../index.md) > [Tasks](./index.md)

# üîå Task: Frontend API Integration

**Status:** üèÉ Active Sprint
**Priority:** High
**Phase:** 4 (Frontend Integration)

## üìù –û–ø–∏—Å–∞–Ω–∏–µ
–¢–µ–∫—É—â–∏–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–æ—Ç–æ—Ç–∏–ø –Ω–∞ `localStorage`. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Å–ª–æ–π –¥–∞–Ω–Ω—ã—Ö (`js/storage.js`) –∏ –ª–æ–≥–∏–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (`upload.js`, `images.js`) –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º Backend API.

## üéØ –¶–µ–ª—å
–û–±–µ—Å–ø–µ—á–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –∏–∑ –ë–î –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. API Client (`js/api.js`)
–°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º.
*   **Base URL:** `/api/v1`
*   **Auth:**
    *   `login(email, password)` -> POST `/auth/login`
    *   `register(email, password)` -> POST `/auth/register`
    *   `logout()` -> POST `/auth/logout`
    *   –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞: –ü–æ–∫–∞ –≤ `localStorage` (–¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ HttpOnly Cookies).
    *   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Authorization: Bearer ...`.
*   **Media:**
    *   `uploadFile(file)` -> POST `/media/upload` (Multipart)
    *   `getFeed()` -> GET `/media/feed`
    *   `deleteImage(id)` -> DELETE `/media/image/{id}`

### 2. Refactor `js/upload.js`
*   –£–±—Ä–∞—Ç—å `FileReader` (Base64 –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é).
*   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `api.uploadFile(file)`.
*   –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "File too large").
*   –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

### 3. Refactor `js/images.js`
*   –°–¥–µ–ª–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º (`async/await`).
*   –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ (Loader/Spinner).
*   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ URL –∏–∑ –æ—Ç–≤–µ—Ç–∞ API (`image.url`, `image.thumbnail_url`).
*   –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API.
*   **Security Fix:** –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (XSS Prevention). –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `textContent` –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤ –≤–º–µ—Å—Ç–æ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ –≤ `innerHTML`.

### 4. Auth Pages (UI)
*   –°–æ–∑–¥–∞—Ç—å `login.html` –∏ `register.html`.
*   –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Ñ–æ—Ä–º (–æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é).
*   –ó–∞—â–∏—Ç–∏—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É: –µ—Å–ª–∏ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞ -> —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ª–æ–≥–∏–Ω.

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏
1.  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –≤–æ–π—Ç–∏.
2.  –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –ø–∞–ø–∫–µ `data/uploads` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
3.  –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥–∞–ª–µ—Ä–µ—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞.
4.  –ö–Ω–æ–ø–∫–∞ "Delete" —Ä–µ–∞–ª—å–Ω–æ —É–¥–∞–ª—è–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫—É –∏–∑ –ë–î –∏ –¥–∏—Å–∫–∞.
5.  –ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ —Å HTML-—Ç–µ–≥–∞–º–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ —Ç–µ–∫—Å—Ç, —Å–∫—Ä–∏–ø—Ç—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è.

---
[‚¨ÖÔ∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É –∑–∞–¥–∞—á](./index.md)
