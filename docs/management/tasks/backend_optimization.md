[üè† Home](../../index.md) > [Management](../index.md) > [Tasks](./index.md)

# ‚öôÔ∏è Task: Backend Optimization & Reliability

**Status:** Draft
**Priority:** Medium (P2)
**Type:** Backend / DevOps

## üéØ –¶–µ–ª—å
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –±—ç–∫–µ–Ω–¥–∞, —É–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

## üìù –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á

### 1. Database Connection Pooling (Neon)
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—É—â–∏–π `pool_size=20` –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º –¥–ª—è Neon Free Tier.
*   **–†–µ—à–µ–Ω–∏–µ:**
    *   –£–º–µ–Ω—å—à–∏—Ç—å `pool_size` –¥–æ 5.
    *   –£–º–µ–Ω—å—à–∏—Ç—å `max_overflow` –¥–æ 5.

### 2. Enhanced Logging
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è.
*   **–†–µ—à–µ–Ω–∏–µ:**
    *   –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç: `user_id`, `filename`, `file_size`, `ip`.

### 3. Orphaned Files Cleanup (Cron Job)
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–ø–∞–¥–µ—Ç –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏, —Ñ–∞–π–ª –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ –±–µ–∑ –∑–∞–ø–∏—Å–∏ –≤ –ë–î.
*   **–†–µ—à–µ–Ω–∏–µ:**
    *   –ù–∞–ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `cleanup_orphans.py`.
    *   –ó–∞–ø—É—Å–∫–∞—Ç—å –µ–≥–æ —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏ (—á–µ—Ä–µ–∑ Cron –∏–ª–∏ Celery Beat).

### 4. Nginx Healthcheck
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –£ Nginx –Ω–µ—Ç healthcheck –≤ Docker Compose.
*   **–†–µ—à–µ–Ω–∏–µ:**
    *   –î–æ–±–∞–≤–∏—Ç—å `healthcheck` –≤ `docker-compose.prod.yml` (curl/wget localhost/health).

### 5. Async Thumbnail Generation
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–Ω–∏–∞—Ç—é—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫.
*   **–†–µ—à–µ–Ω–∏–µ:**
    *   –í—ã–Ω–µ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –≤ —Ñ–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É.

---
[‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ –∑–∞–¥–∞—á–∞–º](./index.md)